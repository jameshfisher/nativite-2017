<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=320, initial-scale=1">
    <title>La Nativité Lantreibecq</title>
  </head>
  <body style="background-color: black; color: white; max-width: 1024px; margin: 0 auto;">
    <h1>La Nativité Lantreibecq</h1>

    <p>
      Quand le score atteint zéro, elles gagnent!
      Gardez cette page secrète!
      Les filles voient <a href="/">cette autre page ...</a>
    </p>

    <iframe src="/" width="1024" height="800" style="border: none; margin: 0 auto; display: block;">iframes not supported :(</iframe>

    <!--
      TODO
    <p>
      <select name="name">
        <option value="constance">Constance</option>
        <option value="sophie">Sophie</option>
        <option value="victoire">Victoire</option>
        <option value="felicite">Félicité</option>
      </select>
      a fait une
      <select name="goodness">
        <option value="1">bonne</option>
        <option value="-1">mauvaise</option>
      </select>
      chose !
      Elle
      <input type="text" placeholder="describe her deed here ..."/>
      <button name="submit" >Soumettre son acte</button>
    </p>
    -->

    <table>
      <tbody>
        <tr>
          <th>Sophie</th>
          <td>
            <button onclick="sendEvent(1, 'sophie')">a fait une bonne chose</button>
            <button onclick="sendEvent(-1, 'sophie')">a fait une mauvaise chose</button>
          </td>
        </tr>
        <tr>
          <th>Constance</th>
          <td>
            <button onclick="sendEvent(1, 'constance')">a fait une bonne chose</button>
            <button onclick="sendEvent(-1, 'constance')">a fait une mauvaise chose</button>
          </td>
        </tr>
        <tr>
          <th>Victoire</th>
          <td>
            <button onclick="sendEvent(1, 'victoire')">a fait une bonne chose</button>
            <button onclick="sendEvent(-1, 'victoire')">a fait une mauvaise chose</button>
          </td>
        </tr>
        <tr>
          <th>Félicité</th>
          <td>
            <button onclick="sendEvent(1, 'felicite')">a fait une bonne chose</button>
            <button onclick="sendEvent(-1, 'felicite')">a fait une mauvaise chose</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!--<div id="game_over" style="background-color: darkblue; padding: 1em;">
      <h2>Le jeu est terminé!! Voulez-vous les manipuler à nouveau?</h2>
      <p><button onclick="jouer_a_nouveau()">Cliquez sur moi pour jouer à nouveau</button> (Ceci réinitialisera tous les scores)</p>
    </div>-->

    <script>
      function sendEvent(relativePoints, name) {
        fetch("https://nativite-2017.herokuapp.com/events", {
          method: "POST",
          body: JSON.stringify({
            childName: name,
            relativePoints: relativePoints
          })
        });
      }

      function jouer_a_nouveau() {
        console.log("réinitialisé le jeu!");
        // TODO
      }
    </script>
  </body>
</html>
